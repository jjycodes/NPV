<h1>Net Present Value Calculator</h1>

<p>This component calculates the Net Present Value for a given series of Cash Flows</p>
<p>
    Source :
    <a href="https://www.investopedia.com/ask/answers/032615/what-formula-calculating-net-present-value-npv.asp">Investopedia</a>
</p>


<br />

<div class="col-md-4">

    <label>NPV Options :</label>
    <table class='table'>
        <tr>
            <td>Upper Bound Discount Rate: </td>
            <td>
                <input type="number" min="0" max="100" step="1" [(ngModel)]="parameters.upperBoundDiscountRate" /> %
            </td>
        </tr>
        <tr>
            <td>Lower Bound Discount Rate: </td>
            <td>
                <input type="number" min="0" max="100" step="1" [(ngModel)]="parameters.lowerBoundDiscountRate" /> %
            </td>
        </tr>
        <tr>
            <td>Discount Rate Increment: </td>
            <td>
                <input type="number" min="0" max="1" step="0.01" [(ngModel)]="parameters.discountRateIncrement" />
            </td>
        </tr>
    </table>
</div>
<hr class="col-md-12" />

<div *ngFor="let project of projects" class="col-md-6">
    <p>Project {{project.name}}</p>
    <div *ngFor="let cashFlow of project.cashFlows; let i = index">
        <span>$ {{cashFlow}}</span><a (click)="removeCashFlow(project, i)"> <i class="glyphicon glyphicon-remove"></i></a>
    </div>
    <input type="number" step="1" [(ngModel)]="project.newCashFlow" />
    <button (click)="addCashFlow(project)">Add Cash Flow</button>
    <button (click)="computeNPV(project)">Compute</button>
    <hr *ngIf="project.ratesnpv.length > 0" />
    <table class="col-md-6 table-striped table-responsive table-bordered" *ngIf="project.ratesnpv.length > 0">
        <thead>
        <tr>
            <th class="col-sm-3">Rate</th>
            <th class="col-sm-3">Net Present Value</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let r of project.ratesnpv">
            <td class="">{{r.rate}}</td>
            <td>{{r.npv}}</td>
        </tr>
        </tbody>
    </table>
</div>
<div>
    <div style="display: block">
        <canvas baseChart
                [datasets]="barChartData"
                [labels]="barChartLabels"
                [options]="barChartOptions"
                [legend]="barChartLegend"
                [chartType]="barChartType"
                (chartHover)="chartHovered($event)"
                (chartClick)="chartClicked($event)"></canvas>
    </div>
</div>

